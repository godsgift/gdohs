{% extends "layout.html" %}
{% block head %}
<link rel="stylesheet" type="text/css" href="../static/css/bootstrap.min.css">
<link rel="stylesheet" type="text/css" href="../static/styles.css">
{% endblock %}

{% block content %}
    <div class="col-xs-4 col-xs-offset-4">
        <h1 class="text-center text-white">Sign Up</h1>
        <form id="signUp" method="POST" action="/signUp">
            {{ form.hidden_tag() }}
            <div class="row">
                <div class="text-center text-white">
                    {{ form.username.label() }}<br> 
                    {{ form.username(placeholder="Username", class="form-control", autofocus=true) }}
                    <div class="text-danger">{{ form.username.errors[0] }}<br></div>
                </div>
            </div>
            <div class="row">
                <div class="text-center text-white">
                    {{ form.password.label() }}<br> 
                    {{ form.password(placeholder="Password", class="form-control", autofocus=true) }}
                    <div class="text-danger row">{{ form.password.errors[0] }}<br></div>
                </div>
            </div>
            <div class="row">
                <div class="text-center text-white">
                    {{ form.email.label() }}<br> 
                    {{ form.email(placeholder="Email", class="form-control") }}
                    <div class="text-danger row">{{ form.email.errors[0] }}
                    {% with messages = get_flashed_messages() %}
                      {% if messages %}
                        {% for message in messages %}
                          {{ message }}
                        {% endfor %}
                      {% endif %}
                    {% endwith %}
                    <br></div>
                </div>
            </div>
            <div class="row">
                <div class="text-center text-white">
                    {{ form.firstname.label() }}<br> 
                    {{ form.firstname(placeholder="First Name", class="form-control") }}
                    <div class="text-danger row">{{ form.firstname.errors[0] }}<br></div>
                </div>
            </div>
            <div class="row">
                <div class="text-center text-white">
                    {{ form.lastname.label() }}<br> 
                    {{ form.lastname(placeholder="Last Name", class="form-control") }}
                    <div class="text-danger row">{{ form.lastname.errors[0] }}<br></div>
                </div>
            </div>
            <div class="row">
                <div class="text-center">
                    <br>
                    <input type="submit" id="btnSignUp" class="btn-success btn-lg" value="Create Account">
                </div>
            </div>
        </form>

    </div>

{% endblock %}


    <script src="../static/jquery.js"></script>
    <!--  <script type="text/javascript"> 

    // $(document).ready(function() {
    //     var email = $("#email").val();

    //     //Disable spacebars
    //     $(function(){
    //       $('input').bind('input', function(){
    //         $(this).val(function(_, v){
    //           return v.replace(/\s+/g, '');
    //         });
    //       });
    //     });
        
    //     //Validates email address
    //     function isValidEmailAddress(emailAddress) {
    //         var pattern = /^([a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+(\.[a-z\d!#$%&'*+\-\/=?^_`{|}~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)*|"((([ \t]*\r\n)?[ \t]+)?([\x01-\x08\x0b\x0c\x0e-\x1f\x7f\x21\x23-\x5b\x5d-\x7e\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|\\[\x01-\x09\x0b\x0c\x0d-\x7f\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))*(([ \t]*\r\n)?[ \t]+)?")@(([a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\d\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.)+([a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]|[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF][a-z\d\-._~\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]*[a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])\.?$/i;
    //         return pattern.test(emailAddress);
    //     };

    //     //Sends data to back-end on click
    //     $('#btnSignUp').click(function() {

    //         var emptyField = $("form :input").filter(function() {
    //             return $.trim(this.value).length === 0;
    //         }).length > 0;

    //         //if the field is not empty, check if the email is valid, if both are correct, send data
    //         if (!emptyField) {
    //             if(isValidEmailAddress(email)) {
    //                 $("#signUp").submit();
    //             }  
    //         }
    //     });
            
    // 	// $('#btnSignUp').click(function() {
    // 	// 	$.ajax({
    // 	// 		url: '/signUp',
    // 	// 		data: $('form').serialize(),
    // 	// 		type: 'POST',
    //  //            dataType:'html',
    // 	// 		success: function(response) {
    // 	// 			console.log(response);
    // 	// 		},
    // 	// 		error: function(error) {
    // 	// 			console.log(error);
    // 	// 		}
    // 	// 	});
    // 	// });
    // });
    // </script>

-->